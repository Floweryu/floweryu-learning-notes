电子邮件系统采用**客户/服务器**方式。
电子邮件系统的三个主要组成构件：**用户代理**，**邮件服务器**，以及**电子邮件所需的协议**。

- **用户代理**是用户与电子邮件的接口，又称为电子邮件客户端软件。
- **邮件服务器**是电子邮件系统的基础设施。因特网上所有的ISP都有邮件服务器，其功能是**发送和接收邮件**，同时还要负责维护用户的邮箱。
- **协议**包括邮件**发送协议**（例如SMTP）和邮件**读取协议**（例如POP3，IMAP）

### 邮件发送过程：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200512195316144.png)
1. 发送方用户代理SMTP客户使用SMTP发送邮件发送到发送方的SMTP服务器，使用的是TCP连接。
2. 发送方的邮件服务器中的SMTP客户使用SMTP发送邮件到接收方邮件服务器中的SMTP服务器。建立TCP连接。
3. POP3客户再从接收方服务器的POP3服务器中读取邮件

### 简单邮件传送协议SMTP(Simple Mail Transfer Protocol)
1. 发送方周期性的扫描邮件缓存，如果发现有待转发的邮件，则发送方邮件服务器中的SMTP客户会与接收方邮件服务器中的SMTP服务器进行TCP连接，端口号为25。
2. SMTP客户基于这条TCP连接给SMTP服务器发送SMTP命令，共14条。SMTP服务器也会给SMTP客户发送相应的应答，共21种。
3. SMTP客户与SMTP服务器之间用命令和应答的方式，实现发送邮件。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200512200641914.png)
- **SMTP协议只能传送ASCII码文本数据**，不能传送可执行文件或其他的二进制对象。
- 只支持传输7比特ASCII码内容
- SMTP不能满足传送多媒体邮件（例如带有图片、音频和视频数据）的需要。并且许多其他非英语国家的文字也无法用SMTP传送。
- 为解决SMTP传送非ASCII码文本的问题，提出了**多用途因特网邮件拓展MIME**。将非ASCII码转化为ASCII码。
	- 增加了**5个新的邮件首部字段**，这些字段提供了有关邮件主体的信息。
	-  定义了**许多邮件内容的格式**，对多媒体电子邮件的表示方法进行了标准化。
	- 定义了**传送编码**，可对任何内容格式进行转换，而不会被邮件系统改变。
- MIME不仅仅用于SMTP，也用于面向ASCII字符的HTTP.
### 电子邮件的信息格式
由RFC 5322文档定义：一个电子邮件有**信封**和**内容**两部分。而内容又由**首部**和**主体**两部分构成。

### 邮件读取协议：
- **邮局协议POP**（Post Office Protocol）：POP3是正式版本，是因特网正式标准。
非常简单、功能有限的有限的邮件读取协议。用户只能以**下载并删除**的方式或**下载并保留**的方式从邮件服务器下载邮件到用户计算机。**不允许用户在邮件服务器上管理自己的邮件**。（例如创建文件夹，对邮件进行分类管理等）
- **因特网邮件访问协议IMAP**（Internet Message Access Protocol）：
功能比POP3强大的邮件读取协议。**用户在自己的计算机上就可以操作邮件服务器中的邮箱**，就像在本地操作一样，因此IMAP是一个联机协议。
- POP3和IMAP4都采用**基于TCP连接的客户/服务器方式**。**POP3使用熟知端口110，IMAP4使用熟知端口143.**

### 基于万维网的电子邮件
- 通过浏览器登录**邮件服务器万维网网站**就可以撰写、收发、阅读和管理电子邮件。这种工作模式和IMAP相似，不同的是用户只需要使用浏览器。

### 学习湖科大老师的视频：[https://www.bilibili.com/video/BV1c4411d7jb?p=72](https://www.bilibili.com/video/BV1c4411d7jb?p=72) 借用了很多截图，侵权必删！！
